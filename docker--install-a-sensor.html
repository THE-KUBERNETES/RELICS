<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><title>Docker: Install a sensor</title><link rel="stylesheet" type="text/css" href="../../../../../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../../../../../css/layout-custom-style.css"></link><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><link rel="prev" href="microsoft-windows--install-a-sensor.html" title="Microsoft Windows: Install a sensor"></link><link rel="next" href="kubernetes--install-a-sensor.html" title="Kubernetes: Install a sensor"></link><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai.min.css"></link></head><body class="theme1 page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix="../../../../"><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../../../../../index.html?lang=en"><img id="logotype-pageheader" src="../../../../../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"><ul class="top-nav-menu sm sm-simple"></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../../../../../index.html?lang=en"><img id="logotype-pageheader" src="../../../../../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" placeholder="Search" class="form-control search-field" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="top-nav-menu sm sm-simple"></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="microsoft-windows--install-a-sensor.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="kubernetes--install-a-sensor.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="../../../../index-en.html">DigiCert product docs</a></li><li class="breadcrumb-link"><a href="../../../../certcentral.html">CertCentral</a></li><li class="breadcrumb-link"><a href="../../../certificate-tools.html">Certificate tools</a></li><li class="breadcrumb-link"><a href="../../discovery-user-guide.html">Discovery user guide</a></li><li class="breadcrumb-link"><a href="../install-a-sensor.html">Install a sensor</a></li><li class="breadcrumb-node">Docker: Install a sensor</li></ul></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-351c8aaa-2ea8-1134-39ed-ae404a55b6e7" data-legacy-id="UUID-427314bc-77ec-094a-ced2-dd0fd7932f7b" data-permalink="certcentral/certificate-tools/discovery-user-guide/install-a-sensor/docker--install-a-sensor.html" data-topic-level="5" data-relative-prefix="../../../../" data-publication-date="
      
    " id="docker--install-a-sensor"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Docker: Install a sensor</h1></div><div><h2 class="subtitle" style="clear: both">Compatible with Docker Engine 18.06.3 or later and Docker Compose 1.26.2 or later.</h2></div></div></div><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="
      
    " id="idm46444193197920"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Before you begin</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Verify you've met all the network requirements.</p></li><li class="listitem"><p>Verify you've met all the deployment requirements.</p></li><li class="listitem"><p>Verify your docker system meets all the hardware and software requirements.</p></li><li class="listitem"><p>Make sure you have administrator privileges.</p></li></ul></div><p>See <a class="xref linktype-component" href="../discovery-workflow-and-permissions.html" title="Discovery workflow and permissions"><span class="xreftitle">Discovery workflow and permissions</span></a> and <a class="link linktype-component" href="../sensor-installation-requirements.html" title="Sensor installation requirements">Sensor installation requirements</a>.</p></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="
      
    " id="idm46444193195968"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Install sensor</h2></div></div></div><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="
      
    " id="idm46444193202848"><div class="titlepage"><div><div class="title"><h3 class="title">Download the sensor from your CertCentral account</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In your CertCentral account, in the left main menu, go to <span class="bold"><strong>Discovery &gt; Manage Discovery</strong></span>.</p></li><li class="step"><p>On the Manage scans page, select <span class="bold"><strong>Add sensor</strong></span>.</p></li><li class="step"><p>On the <span class="bold"><strong>Set up a sensor</strong></span> page, under step 1 <span class="bold"><strong>Download a discovery sensor</strong></span> in the <span class="bold"><strong>Docker</strong></span> section, select <span class="bold"><strong>Download</strong></span>.</p><p>You can also download the sensor from here: <a class="link" href="https://discovery-service.digicert.com/sensorBinaries/docker-sensor/digicert_sensor_docker-compose.yml" target="_blank" rel="noopener">Docker Compose sensor file</a>.</p></li><li class="step"><p>Save the Docker Compose file (<span class="bold"><strong>digicert_sensor_docker-compose.yml</strong></span>) in your system. Make sure to note the location.</p></li></ol></div></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="
      
    " id="idm46444193198880"><div class="titlepage"><div><div class="title"><h3 class="title">Create the installation directory and configure the sensor</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Create the installation directory.</p><p>For example:</p><p><code class="code">install_dir</code></p><p>And copy the <span class="bold"><strong>digicert_sensor_docker-compose.yml</strong></span> file in the installation directory.</p></li><li class="step"><p>Open the digicert_sensor_docker-compose.yml file in a text editor.</p></li><li class="step"><p>Edit the file to provide the information for the following parameters to configure the sensor:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Username</p></li><li class="listitem"><p>Password</p></li><li class="listitem"><p>Division name</p></li><li class="listitem"><p>Sensor name</p></li></ul></div></li><li class="step"><p>Save the file.</p></li></ol></div><p>The digicert_sensor_docker-compose.yml file looks like this:</p><pre class="programlisting generic" data-language="generic">#
#   To install a sensor
#     https://docs.digicert.com/certificate-tools/discovery-user-guide/installing-sensor/docker-install-sensor/
#   Sensor installation requirements
#     https://docs.digicert.com/certificate-tools/discovery-user-guide/sensor-installation-requirements/#docker-engine-190313-and-later

version: '3.7'
services:
  sensor:
    image: digicertinc/digicert-sensor:latest
    ports:
      - "8088:8080"
    volumes:
      - "./sensor_home/:/usr/local/digicert/sensor/mounts/"
    entrypoint: &gt;
         /usr/local/digicert/sensor/start.sh
         -u username
         -p passsword
         -d "divisionName"
         -s sensorName
    stop_grace_period: 30s</pre><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Parameter</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p>Version</p></td><td class="td"><p>Docker Compose version.</p></td></tr><tr><td class="td"><p>Service</p></td><td class="td"><p>This section defines the sensor container created on your host server.</p></td></tr><tr><td class="td"><p>Image</p></td><td class="td"><p>This section specifies the docker image repository/image name and its version tag.</p></td></tr><tr><td class="td"><p>Port</p></td><td class="td"><p>This section defines the ports mapped between the host server and the docker container for communication.</p><p>Note: Each sensor must be configured with different ports and all the ports must be mapped to communicate outside the sensor container.</p><p>Example:</p><pre class="programlisting yml" data-language="yml">ports:
- "8088:8080" </pre><p>Here, the docker sensor container is configured to port 8080. But it cannot communicate with the host server (external system) that is configured to port 8088. To establish communication between the host server and docker container, these ports need to be mapped.</p><p>If you’re running multiple docker sensor containers, the exposed port 8080 allows these containers to establish communication with each other. But if an Agent or an external system wants to establish communication, they need to be mapped with the port 8088.</p></td></tr><tr><td class="td"><p>Volume</p></td><td class="td"><p>This section defines the directories mounted to the docker container.</p><p>Example:</p><pre class="programlisting">volumes: 
- "./sensor_home/:/usr/local/digicert/sensor/mounts/"</pre><p>Here, host directory <code class="code">"./sensor_home/"</code> is being mounted to the docker container <code class="code">"/usr/local/digicert/sensor/mounts/"</code> directory.</p><p>Directories mounted to the docker sensor container allow you to access and manage the data associated with the sensor from outside the docker container.</p><p>If you’re running multiple docker sensor containers, mounted directories allow you to access, share, and manage the sensor's data through common storage outside the containers.</p><p>Note: The host directory (install_dir) stores all the data associated with the sensor–configuration file, log file, and sensor data.</p></td></tr><tr><td class="td"><p>Username</p></td><td class="td"><p>Username of the CertCentral account.</p></td></tr><tr><td class="td"><p>Password</p></td><td class="td"><p>Password of the CertCentral account.</p></td></tr><tr><td class="td"><p>Division name</p></td><td class="td"><p>Name of the division you want to assign the sensor to.</p></td></tr><tr><td class="td"><p>Sensor name</p></td><td class="td"><p>Friendly name of the sensor.</p></td></tr><tr><td class="td"><p>Stop grace period</p></td><td class="td"><p>Specifies the period of time to wait to stop a docker container.</p></td></tr></tbody></table></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Username, Password, Division name, and Sensor name information are used to provision a sensor to a CertCentral account.</p></div></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="
      
    " id="idm46444193185856"><div class="titlepage"><div><div class="title"><h3 class="title">Start the sensor</h3></div></div></div><p>Now that the sensor is installed on your system:</p><p>Go to the sensor installation directory (for example, <code class="code">install_dir</code> ) and run the <code class="code">docker-compose -f digicert_sensor_docker-compose.yml up -d</code> command to create and start the sensor container.</p></section></section><section dir="ltr" class="section internal" data-origin-id="" data-publication-date="
      
    " id="idm46444193667760"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">What's next</h2></div></div></div><p>Verify sensor installation:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Check the sensor status in your CertCentral account.</p></li><li class="listitem"><p>Go to the installation directory and run the <code class="code">docker ps | grep sensor</code> or <code class="code">docker-compose -f digicert_sensor_docker-compose.yml logs -f</code> command.</p></li><li class="listitem"><p>Check the sensor status logs located in <code class="code">install_dir/sensor_home/logs/sensor.log</code>.</p></li></ul></div><p>You're ready to set up and run a scan using this sensor. See <a class="xref linktype-component" href="../set-up-and-run-a-scan.html" title="Set up and run a scan"><span class="xreftitle">Set up and run a scan</span></a>.</p><p>If you're using multiple sensors, rename the sensors to make tracking and identification easier. See <a class="link linktype-component" href="../rename-the-sensor.html" title="Rename a sensor">Rename the sensor</a>.</p></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#docker--install-a-sensor">Docker: Install a sensor</a></li><li><a href="#idm46444193197920">Before you begin</a></li><li><a href="#idm46444193195968">Install sensor</a><ul class="nav"><li><a href="#idm46444193202848">Download the sensor from your CertCentral account</a></li><li><a href="#idm46444193198880">Create the installation directory and configure the sensor</a></li><li><a href="#idm46444193185856">Start the sensor</a></li></ul></li><li><a href="#idm46444193667760">What's next</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="microsoft-windows--install-a-sensor.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="kubernetes--install-a-sensor.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 DigiCert, Inc. </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">
      
    </span></div></div></footer></div></div></div></div><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'search';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = false;
					var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><script src="../../../../../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../../../../../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../../../../../js/materialize.min.js" type="text/javascript"></script><script src="../../../../../js/bootstrap.min.js" type="text/javascript"></script><script src="../../../../../js/purl.js" type="text/javascript"></script><script src="../../../../../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../../../../js/toc.js" type="text/javascript"></script><script src="../../../../../js/create-toc.js" type="text/javascript"></script><script src="../../../../../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../../../../../js/html5-2.js" type="text/javascript"></script><script src="../../../../../js/checklist.js" type="text/javascript"></script><script src="../../../../../js/clipboard.min.js" type="text/javascript"></script><script src="../../../../../js/anchorlinks.js" type="text/javascript"></script><script src="../../../../../js/fuse.min.js" type="text/javascript"></script><script src="../../../../../js/jquery.mark.min.js" type="text/javascript"></script><script src="../../../../../js/html5.fuse.search.js" type="text/javascript"></script><script src="../../../../js/fuzzydata.js" type="text/javascript"></script><script src="../../../../../js/csh.js" type="text/javascript"></script><script src="../../../../../js/jquery.paligocode.js" type="text/javascript"></script><script src="../../../../../js/layout-custom-script.js" type="text/javascript"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.digicert.com/digicert-privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VNH0EGHPPH"></script><script type="text/javascript">const measurementId = 'G-VNH0EGHPPH';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../../../../../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script></body></html>
